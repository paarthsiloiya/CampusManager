<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{% block title %}CampusManager â€” Smart Curriculum & Attendance{% endblock %}</title>

        <!-- Tailwind -->
        <script src="https://cdn.tailwindcss.com"></script>
        <!-- Google Fonts: Inter -->
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

        <script>
            tailwind.config = {
                darkMode: "class",
                theme: {
                    extend: {
                        fontFamily: {
                            sans: ["Inter", "sans-serif"],
                        },
                        colors: {
                            background: {
                                DEFAULT: "oklch(98% 0.005 250)", // Base
                                dark: "oklch(95% 0.01 250)", // Shade 1
                                darker: "oklch(90% 0.02 250)", // Shade 2
                                light: "oklch(99% 0.002 250)", // Tint 1
                                lighter: "oklch(100% 0 0)", // Tint 2 (White)
                            },
                            text: {
                                DEFAULT: "oklch(20% 0.04 250)", // Base
                                dark: "oklch(15% 0.04 250)",
                                darker: "oklch(10% 0.04 250)",
                                light: "oklch(40% 0.04 250)",
                                lighter: "oklch(60% 0.02 250)",
                            },
                            primary: {
                                DEFAULT: "oklch(50% 0.22 255)", // Base (Vibrant Indigo)
                                dark: "oklch(42% 0.22 255)", // Hover
                                darker: "oklch(35% 0.22 255)", // Active/Sidebar
                                light: "oklch(65% 0.15 255)",
                                lighter: "oklch(85% 0.08 255)",
                            },
                            secondary: {
                                DEFAULT: "oklch(70% 0.1 255)", // Base (Muted Indigo)
                                dark: "oklch(60% 0.12 255)",
                                darker: "oklch(50% 0.15 255)",
                                light: "oklch(85% 0.05 255)",
                                lighter: "oklch(95% 0.02 255)",
                            },
                            accent: {
                                DEFAULT: "oklch(60% 0.25 240)", // Base (Highlight)
                                dark: "oklch(50% 0.25 240)",
                                darker: "oklch(40% 0.25 240)",
                                light: "oklch(75% 0.15 240)",
                                lighter: "oklch(90% 0.05 240)",
                            },
                            status: {
                                success: "oklch(60% 0.18 145)",
                                warning: "oklch(75% 0.15 85)",
                                error: "oklch(60% 0.2 25)",
                                info: "oklch(65% 0.15 240)",
                            },
                        },
                    },
                },
            };
        </script>

        <style>
            /* Custom scrollbar styling for auth pages too */
            html,
            body {
                height: 100%;
            }
        </style>
    </head>

    <body class="min-h-screen bg-background relative font-sans antialiased text-text selection:bg-accent selection:text-white flex flex-col items-center justify-center p-4">
        <!-- Decorational background elements -->
        <div class="fixed inset-0 overflow-hidden pointer-events-none -z-10">
            <div class="absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary-lighter/20 to-transparent rounded-full blur-3xl opacity-50"></div>
            <div class="absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent-lighter/20 to-transparent rounded-full blur-3xl opacity-50"></div>
        </div>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %} {% if messages %}
        <div class="fixed top-6 right-6 z-50 space-y-3 w-full max-w-sm">
            {% for category, message in messages %}
            <div class="p-4 rounded-xl shadow-lg border border-opacity-20 flex items-start gap-3 backdrop-blur-md animate-bounce-in {% if category == 'error' %}bg-red-50 border-red-200 text-red-600{% else %}bg-green-50 border-green-200 text-green-600{% endif %}">
                <div class="flex-1 text-sm font-medium">{{ message }}</div>
                <button type="button" class="text-current opacity-60 hover:opacity-100 transition-opacity" onclick="this.parentElement.style.display = 'none'">
                    <span class="sr-only">Close</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            {% endfor %}
        </div>
        {% endif %} {% endwith %}

        <div class="w-full max-w-md">{% block content %}{% endblock %}</div>

        {% block scripts %}{% endblock %}
    </body>
</html>
