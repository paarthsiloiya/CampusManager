{% extends "base.html" %} {% block title %}Edit Class — {{ assigned_class.subject.name }} — CampusManager{% endblock %} {% block content %}
<div class="max-w-2xl mx-auto space-y-8">
    <!-- Header -->
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-bold text-text-dark">Edit Class Details</h1>
            <p class="text-text-light mt-1 flex items-center gap-2">
                <span class="font-bold">{{ assigned_class.subject.name }}</span>
                <span class="bg-gray-100 rounded px-1.5 py-0.5 text-xs font-medium">{{ assigned_class.subject.code }}</span>
            </p>
        </div>
        <a href="{{ url_for('views.teacher_class_details', class_id=assigned_class.id) }}" class="flex items-center gap-2 text-text-light hover:text-primary font-bold transition-colors"> <i data-feather="arrow-left" class="w-4 h-4"></i> Back to Details </a>
    </div>

    <!-- Edit Form -->
    <div class="bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden p-8">
        <form method="POST" action="" class="space-y-6">
            <div class="space-y-1.5">
                <label for="section" class="text-xs font-bold text-text-light uppercase tracking-wider flex items-center gap-2"> <i data-feather="layers" class="w-3 h-3"></i> Section </label>
                <input
                    type="text"
                    id="section"
                    name="section"
                    value="{{ assigned_class.section or '' }}"
                    class="w-full px-4 py-3 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all font-medium text-text-dark"
                    placeholder="e.g. A, B, C"
                />
                <p class="text-xs text-text-light font-medium ml-1">Specify which section this class belongs to.</p>
            </div>

            <div class="space-y-1.5">
                <label for="location" class="text-xs font-bold text-text-light uppercase tracking-wider flex items-center gap-2"> <i data-feather="map-pin" class="w-3 h-3"></i> Classroom Location </label>
                <input
                    type="text"
                    id="location"
                    name="location"
                    value="{{ assigned_class.location or '' }}"
                    class="w-full px-4 py-3 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all font-medium text-text-dark"
                    placeholder="e.g. Room 301, Comp Lab 2"
                />
                <p class="text-xs text-text-light font-medium ml-1">Where is this class usually held?</p>
            </div>

            <div class="space-y-1.5">
                <label for="google_classroom_link" class="text-xs font-bold text-text-light uppercase tracking-wider flex items-center gap-2"> <i data-feather="link" class="w-3 h-3"></i> Google Classroom Link </label>
                <div class="relative">
                    <input
                        type="url"
                        id="google_classroom_link"
                        name="google_classroom_link"
                        value="{{ assigned_class.google_classroom_link or '' }}"
                        class="w-full px-4 py-3 pl-10 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all font-medium text-text-dark"
                        placeholder="https://classroom.google.com/..."
                    />
                    <div class="absolute left-3 top-3.5 text-gray-400">
                        <i data-feather="globe" class="w-4 h-4"></i>
                    </div>
                </div>

                <p class="text-xs text-text-light font-medium ml-1">Paste the invite link or stream link for your Google Classroom.</p>
            </div>

            <div class="flex justify-end gap-4 pt-4 border-t border-gray-50 mt-8">
                <a href="{{ url_for('views.teacher_class_details', class_id=assigned_class.id) }}" class="px-6 py-3 rounded-xl bg-gray-100 text-text-dark font-bold hover:bg-gray-200 transition-colors"> Cancel </a>
                <button type="submit" class="px-8 py-3 rounded-xl bg-primary text-white font-bold hover:bg-primary-dark transition-all hover:scale-105 shadow-lg shadow-primary/20">Save Changes</button>
            </div>
        </form>
    </div>
</div>

<script>
    feather.replace();
</script>
{% endblock %} {% block sidebar_content %}
<!-- Class Info Widget -->
<div class="w-full">
    <h3 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3">Class Info</h3>
    <div class="bg-white border border-gray-100 rounded-2xl p-5 shadow-sm space-y-4">
        <!-- Branch/Sem -->
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center shrink-0">
                <i data-feather="git-branch" class="w-5 h-5"></i>
            </div>
            <div>
                <p class="text-xs text-gray-400 font-bold uppercase tracking-wider">Branch</p>
                <p class="font-bold text-text-dark text-sm leading-tight">{{ assigned_class.subject.branch }} (Sem {{ assigned_class.subject.semester }})</p>
            </div>
        </div>

        <!-- Section -->
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center shrink-0">
                <i data-feather="layers" class="w-5 h-5"></i>
            </div>
            <div>
                <p class="text-xs text-gray-400 font-bold uppercase tracking-wider">Section</p>
                <p class="font-bold text-text-dark text-sm leading-tight">{{ assigned_class.section or 'All Sections' }}</p>
            </div>
        </div>

        <!-- Enrollment -->
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center shrink-0">
                <i data-feather="users" class="w-5 h-5"></i>
            </div>
            <div>
                <p class="text-xs text-gray-400 font-bold uppercase tracking-wider">Students</p>
                <p class="font-bold text-text-dark text-sm leading-tight">{{ assigned_class.enrollments|selectattr('is_approved')|list|length }} Enrolled</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
